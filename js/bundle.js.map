{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;AAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,0DAAa;AAC/B;AACA,KAAK;AACL;AACA;AACA;AACA,iEAAe;;;;;;;;;;;;;;;ACvB4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,2DAAa,iCAAiC,8BAA8B;AACxF,SAAS;AACT,KAAK;AACL;AACA;AACA,iEAAe;;;;;;;;;;;;;;ACbf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,KAAK;AACL;AACA;AACA;AACA,iEAAe;;;;;;;;;;;;;;ACnCf,0EAA0E,mCAAmC;AAC7G;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iEAAe;;;;;;;;;;;;;;;;ACX4B;AACV;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0DAAa;AACpC;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,WAAW;AACpD;AACA,kBAAkB,UAAU;AAC5B,kBAAkB,UAAU;AAC5B,kBAAkB,WAAW;AAC7B,iCAAiC,UAAU;AAC3C,iCAAiC,UAAU;AAC3C;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI,sDAAQ;AACZ;AACA;AACA,iEAAe;;;;;;;;;;;;;;ACtDf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iEAAe;;;;;;;;;;;;;;;;;;ACvBmB;AACM;AACA;AACA;AACxC;AACA;AACA,UAAU,qDAAQ;AAClB,IAAI,yDAAW;AACf,IAAI,yDAAW;AACf,IAAI,yDAAW;AACf;AACA;AACA,iEAAe;;;;;;;;;;;;;;;ACZ4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,2DAAa,iCAAiC,8BAA8B;AAChG,iBAAiB;AACjB;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,iEAAe;;;;;;UC/Bf;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACNoC;AACQ;AAC5C;AACA,0DAAK;AACL,+DAAS,E","sources":["webpack://test/./js/modules/createTable.js","webpack://test/./js/modules/deleteTable.js","webpack://test/./js/modules/dndTable.js","webpack://test/./js/modules/fetchServices.js","webpack://test/./js/modules/getTable.js","webpack://test/./js/modules/modalForm.js","webpack://test/./js/modules/table.js","webpack://test/./js/modules/updateTable.js","webpack://test/webpack/bootstrap","webpack://test/webpack/runtime/define property getters","webpack://test/webpack/runtime/hasOwnProperty shorthand","webpack://test/webpack/runtime/make namespace object","webpack://test/./js/script.js"],"sourcesContent":["import fetchServices from \"./fetchServices\"\r\n\r\nconst createTable = () => {\r\n    const modal = document.querySelector('.modal')\r\n    const form = document.querySelector('form')\r\n\r\n    form.addEventListener('submit', (event) => {\r\n        event.preventDefault()\r\n\r\n        console.log(event)\r\n\r\n        const formData = {}\r\n        formData.name = form[0].value\r\n        formData.type = form[1].value\r\n        formData.color = form[2].value.toUpperCase()\r\n\r\n        if (modal.dataset.update === 'false') {\r\n           return fetchServices(`http://localhost:3000/tables`, 'POST', JSON.stringify(formData))\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport default createTable","import fetchServices from \"./fetchServices\"\r\n\r\nconst deleteTable = () => {\r\n    const deleteElementTable = document.querySelectorAll('.delete')\r\n\r\n    deleteElementTable.forEach((item, i) => {\r\n        item.addEventListener('click', async (e) => {\r\n            e.preventDefault()\r\n            fetchServices(`http://localhost:3000/tables/${item.parentElement.dataset.id}`, 'DELETE')\r\n        })\r\n    })\r\n}\r\n\r\nexport default deleteTable","const dndTable = () => {\r\n    const table = document.querySelector('tbody')\r\n    const listTable = document.querySelectorAll('tbody tr')\r\n    \r\n    listTable.forEach(element => {\r\n        console.dir(element.childNodes)\r\n        element.addEventListener('dragstart', (e) => {\r\n            element.classList.add('select')\r\n        })\r\n        element.addEventListener('dragend', (e) => {\r\n            element.classList.remove('select')\r\n        })\r\n\r\n        element.addEventListener(`dragover`, (evt) => {\r\n            evt.preventDefault();\r\n          \r\n            const activeElement = table.querySelector(`.select`);\r\n            const currentElement = evt.currentTarget;\r\n\r\n            const isMoveable = activeElement !== currentElement && element;\r\n\r\n            if (!isMoveable) {\r\n              return;\r\n            }\r\n          \r\n            const nextElement = (currentElement === activeElement.nextElementSibling) ?\r\n                currentElement.nextElementSibling :\r\n                currentElement;\r\n            \r\n            table.insertBefore(activeElement, nextElement);\r\n          });\r\n    });\r\n\r\n}\r\n\r\nexport default dndTable","const fetchServices = async (url, method = 'GET', body = null, headers = {'Content-Type': 'application/json'}) => {\r\n    const response = await fetch(url, {\r\n        method,\r\n        headers,\r\n        body\r\n    })\r\n        .then(data => data.json())\r\n    \r\n    return response\r\n}\r\n\r\nexport default fetchServices","import fetchServices from \"./fetchServices\"\r\nimport dndTable from \"./dndTable\"\r\n\r\nconst deleteSvg = `\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 4H4L5.26923 16H13.7308L15 4ZM13.8887 5H5.11135L6.16904 15H12.831L13.8887 5Z\" fill=\"#8D8D8D\"/>\r\n    <rect x=\"4\" y=\"3\" width=\"11\" height=\"2\" fill=\"#8D8D8D\"/>\r\n    </svg>\r\n`\r\n\r\nconst updateSvg = `\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M12.8701 3.60447C13.0429 3.41283 13.2481 3.26081 13.4739 3.1571C13.6997 3.05338 13.9417 3 14.1861 3C14.4306 3 14.6726 3.05338 14.8984 3.1571C15.1242 3.26081 15.3293 3.41283 15.5022 3.60447C15.675 3.79611 15.8121 4.02362 15.9056 4.27401C15.9991 4.5244 16.0473 4.79277 16.0473 5.06379C16.0473 5.33481 15.9991 5.60317 15.9056 5.85356C15.8121 6.10395 15.675 6.33146 15.5022 6.5231L6.61905 16.3735L3 17.468L3.98701 13.4549L12.8701 3.60447Z\" stroke=\"#8D8D8D\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    </svg>\r\n`\r\n\r\nconst getTable = async () => {\r\n    const tbody = document.querySelector('tbody')\r\n    tbody.innerHTML = ''\r\n    \r\n    const resp = await fetchServices('http://localhost:3000/tables')\r\n        .then(dataTable => {\r\n            return dataTable\r\n        })\r\n        .catch((e) => {\r\n            console.log(e)\r\n        })\r\n\r\n    if (resp.length < 1) {\r\n        return tbody.innerHTML = `<div>Пока нет цветов</div>`\r\n    }\r\n\r\n    resp.map((item) => {\r\n        const rowTable = document.createElement('tr')\r\n        rowTable.dataset.id = item.id\r\n        rowTable.draggable = true\r\n\r\n        rowTable.innerHTML = `\r\n            <td>\r\n                <div style=\"background:${item.color}\" class=\"table-color\"></div>    \r\n            </td>\r\n            <td>${item.name}</td>\r\n            <td>${item.type}</td>\r\n            <td>${item.color}</td>\r\n            <td class=\"update\">${updateSvg}</td>\r\n            <td class=\"delete\">${deleteSvg}</td>\r\n        `\r\n\r\n        tbody.appendChild(rowTable)\r\n    })\r\n\r\n    dndTable()\r\n}\r\n\r\nexport default getTable","const modalForm = () => {\r\n    const btn = document.querySelector('.js-open'),\r\n          modal = document.querySelector('.modal'),\r\n          close = modal.querySelector('.close'),\r\n          modalTitle = modal.querySelector('.title')\r\n\r\n    btn.addEventListener('click', () => {\r\n        modal.classList.remove('hidden')\r\n        modalTitle.textContent = 'Добавление цвета'\r\n        modal.dataset.update = false\r\n    })\r\n\r\n    close.addEventListener('click', () => {\r\n        modal.classList.add('hidden')\r\n    })\r\n\r\n    modal.addEventListener('click', (e) => {\r\n        if (e.target === modal) {\r\n            modal.classList.add('hidden')\r\n        }   \r\n    })\r\n}\r\n\r\nexport default modalForm","import getTable from './getTable';\r\nimport deleteTable from './deleteTable';\r\nimport createTable from './createTable';\r\nimport updateTable from './updateTable';\r\n\r\nconst table = async () => {\r\n    await getTable()\r\n    deleteTable()\r\n    createTable()\r\n    updateTable()\r\n}\r\n\r\nexport default table","import fetchServices from \"./fetchServices\"\r\n\r\nconst updateTable = () => {\r\n    const form = document.querySelector('form')\r\n    const updateElementTables = document.querySelectorAll('.update')\r\n    const modal = document.querySelector('.modal')\r\n    const modalTitle = modal.querySelector('.title')\r\n    \r\n    updateElementTables.forEach((item) => {\r\n        item.addEventListener('click', () => {\r\n            modal.classList.remove('hidden')\r\n            modalTitle.textContent = 'Изменение цвета'\r\n            modal.dataset.update = true\r\n\r\n            if (modal.dataset.update) {\r\n                form.addEventListener('submit', (e) => {\r\n                    e.preventDefault()\r\n            \r\n                    const formData = {}\r\n                    formData.id = item.parentElement.dataset.id\r\n                    formData.name = form[0].value\r\n                    formData.type = form[1].value\r\n                    formData.color = form[2].value.toUpperCase()\r\n            \r\n                    fetchServices(`http://localhost:3000/tables/${item.parentElement.dataset.id}`, 'PATCH', JSON.stringify(formData))\r\n                })\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nexport default updateTable","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import table from './modules/table';\r\nimport modalForm from './modules/modalForm';\r\n\r\ntable()\r\nmodalForm()"],"names":[],"sourceRoot":""}